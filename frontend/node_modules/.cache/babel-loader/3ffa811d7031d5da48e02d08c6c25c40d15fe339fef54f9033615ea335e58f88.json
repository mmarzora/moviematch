{"ast":null,"code":"var _jsxFileName = \"/Users/maitemarzoratti/Documents/data-science/MovieMatch/moviematch/frontend/src/components/SessionManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport SessionCreate from './SessionCreate';\nimport SessionJoin from './SessionJoin';\nimport { sessionService } from '../services/sessionService';\nimport { matchingService } from '../services/matchingService';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SessionManager = ({\n  onSessionStart,\n  memberId\n}) => {\n  _s();\n  // Use the memberId passed from App.tsx instead of generating our own\n  const memberIdRef = useRef(memberId);\n  const [sessionId, setSessionId] = useState(null);\n  const [sessionCode, setSessionCode] = useState(null);\n  const [currentSession, setCurrentSession] = useState(null);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [useSmartMatching, setUseSmartMatching] = useState(true);\n  const [algorithmAvailable, setAlgorithmAvailable] = useState(null);\n\n  // Check algorithm availability on mount\n  useEffect(() => {\n    const checkAlgorithm = async () => {\n      try {\n        await matchingService.healthCheck();\n        setAlgorithmAvailable(true);\n      } catch (error) {\n        console.warn('MovieMatch algorithm not available:', error);\n        setAlgorithmAvailable(false);\n        setUseSmartMatching(false);\n      }\n    };\n    checkAlgorithm();\n  }, []);\n  const handleSessionUpdate = useCallback(updatedSession => {\n    console.log('[SessionManager] Firestore update received:', updatedSession);\n    if (updatedSession) {\n      // Only update current session state without triggering onSessionStart\n      setCurrentSession(prevSession => {\n        // Deep comparison to avoid unnecessary updates\n        if (JSON.stringify(prevSession) !== JSON.stringify(updatedSession)) {\n          // Update smart matching state from Firebase\n          setUseSmartMatching(updatedSession.useSmartMatching);\n          return updatedSession;\n        }\n        return prevSession;\n      });\n      setSessionCode(updatedSession.code);\n\n      // Only call onSessionStart when we have 2 members (session is ready to start)\n      const wasSessionReady = (currentSession === null || currentSession === void 0 ? void 0 : currentSession.members.length) === 2;\n      const isSessionNowReady = updatedSession.members.length === 2;\n\n      // Start the session only when it becomes ready (transitions from not ready to ready)\n      if (!wasSessionReady && isSessionNowReady) {\n        console.log('[SessionManager] Session now ready with 2 members, starting session');\n        onSessionStart(updatedSession, updatedSession.useSmartMatching);\n      }\n    }\n  }, [onSessionStart, currentSession]);\n  useEffect(() => {\n    if (!sessionId || !memberIdRef.current) return;\n    return sessionService.subscribeToSession(sessionId, handleSessionUpdate);\n  }, [sessionId, handleSessionUpdate]);\n  const handleSessionCreated = useCallback(async (id, code) => {\n    setSessionId(id);\n    setSessionCode(code);\n    try {\n      const session = await sessionService.joinSession(code, memberIdRef.current);\n      handleSessionUpdate(session);\n    } catch (error) {\n      console.error('Failed to create session:', error);\n    }\n  }, [handleSessionUpdate]);\n  const handleSessionJoined = useCallback(async id => {\n    if (sessionId === id) return;\n    setSessionId(id);\n    try {\n      const session = await sessionService.joinSession(id, memberIdRef.current);\n      handleSessionUpdate(session);\n    } catch (error) {\n      console.error('Failed to join session:', error);\n      setSessionId(null);\n      setSessionCode(null);\n      setCurrentSession(null);\n    }\n  }, [sessionId, handleSessionUpdate]);\n  const handleManualRefresh = useCallback(async () => {\n    if (!sessionId) return;\n    setIsRefreshing(true);\n    try {\n      const session = await sessionService.joinSession(sessionId, memberIdRef.current);\n      handleSessionUpdate(session);\n    } catch (err) {\n      console.error('Manual refresh error:', err);\n    } finally {\n      setIsRefreshing(false);\n    }\n  }, [sessionId, handleSessionUpdate]);\n  const handleSmartMatchingToggle = useCallback(enabled => {\n    setUseSmartMatching(enabled);\n    if (currentSession) {\n      // Update Firebase with new smart matching state\n      const sessionRef = doc(db, 'sessions', currentSession.code);\n      updateDoc(sessionRef, {\n        useSmartMatching: enabled\n      });\n      onSessionStart(currentSession, enabled);\n    }\n  }, [currentSession, onSessionStart]);\n  const otherMemberId = useMemo(() => currentSession === null || currentSession === void 0 ? void 0 : currentSession.members.find(id => id !== memberIdRef.current), [currentSession === null || currentSession === void 0 ? void 0 : currentSession.members]);\n  const isSessionReady = useMemo(() => (currentSession === null || currentSession === void 0 ? void 0 : currentSession.members.length) === 2, [currentSession === null || currentSession === void 0 ? void 0 : currentSession.members.length]);\n  const sessionStyles = useMemo(() => ({\n    container: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '10px',\n      marginBottom: '20px',\n      padding: '15px',\n      backgroundColor: '#f8f9fa',\n      borderRadius: '8px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      position: 'relative'\n    },\n    header: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    code: {\n      fontSize: '24px',\n      fontWeight: 'bold',\n      margin: '10px 0'\n    },\n    refreshButton: {\n      padding: '10px 20px',\n      backgroundColor: '#4a90e2',\n      color: 'white',\n      border: 'none',\n      borderRadius: '8px',\n      cursor: isRefreshing ? 'not-allowed' : 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n      opacity: isRefreshing ? 0.7 : 1,\n      transition: 'all 0.2s ease',\n      fontSize: '16px',\n      fontWeight: 'bold',\n      zIndex: 1000\n    },\n    smartMatchingSection: {\n      background: algorithmAvailable ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : '#6c757d',\n      color: 'white',\n      padding: '15px',\n      borderRadius: '8px',\n      marginTop: '15px'\n    },\n    toggleContainer: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '10px'\n    },\n    toggle: {\n      position: 'relative',\n      display: 'inline-block',\n      width: '60px',\n      height: '34px'\n    },\n    toggleInput: {\n      opacity: 0,\n      width: 0,\n      height: 0\n    },\n    slider: {\n      position: 'absolute',\n      cursor: algorithmAvailable ? 'pointer' : 'not-allowed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: algorithmAvailable && useSmartMatching ? '#4CAF50' : '#ccc',\n      transition: '0.4s',\n      borderRadius: '34px',\n      opacity: algorithmAvailable ? 1 : 0.5\n    },\n    sliderButton: {\n      position: 'absolute',\n      content: '\"\"',\n      height: '26px',\n      width: '26px',\n      left: useSmartMatching && algorithmAvailable ? '30px' : '4px',\n      bottom: '4px',\n      backgroundColor: 'white',\n      transition: '0.4s',\n      borderRadius: '50%'\n    }\n  }), [isRefreshing, algorithmAvailable, useSmartMatching]);\n  if (!sessionCode) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SessionCreate, {\n        onSessionCreated: handleSessionCreated,\n        userId: memberIdRef.current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divider\",\n        children: \"or\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SessionJoin, {\n        onSessionJoined: handleSessionJoined,\n        memberId: memberIdRef.current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"session-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-code\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: sessionStyles.container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: sessionStyles.header,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: \"Your Session Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleManualRefresh,\n            className: \"refresh-button\",\n            disabled: isRefreshing,\n            style: sessionStyles.refreshButton,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                display: 'inline-block',\n                animation: isRefreshing ? 'spin 1s linear infinite' : 'none'\n              },\n              children: \"\\uD83D\\uDD04\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), isRefreshing ? 'Refreshing...' : 'Refresh Session']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"code\",\n          style: sessionStyles.code,\n          children: sessionCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: \"Share this code with your movie partner!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: sessionStyles.smartMatchingSection,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: sessionStyles.toggleContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  margin: '0 0 5px 0'\n                },\n                children: \"\\uD83E\\uDDE0 Smart Matching Algorithm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: '0.9rem',\n                  opacity: 0.9\n                },\n                children: [algorithmAvailable === null && 'Checking availability...', algorithmAvailable === false && 'Algorithm unavailable - using random movies', algorithmAvailable === true && (useSmartMatching ? 'Personalized recommendations enabled' : 'Using random movie selection')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), algorithmAvailable && /*#__PURE__*/_jsxDEV(\"label\", {\n              style: sessionStyles.toggle,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: useSmartMatching,\n                onChange: e => handleSmartMatchingToggle(e.target.checked),\n                style: sessionStyles.toggleInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  ...sessionStyles.slider\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: sessionStyles.sliderButton\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), algorithmAvailable && useSmartMatching && /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              opacity: 0.8\n            },\n            children: \"\\u2728 Algorithm learns your preferences and finds better matches over time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), currentSession && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-status\",\n        style: {\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"members-count\",\n          children: [\"Members in session: \", currentSession.members.length, \"/2\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"member-id\",\n          children: [\"Your ID: \", memberIdRef.current.slice(0, 8), \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), isSessionReady ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"other-member\",\n          children: [\"Paired with: \", otherMemberId === null || otherMemberId === void 0 ? void 0 : otherMemberId.slice(0, 8), \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"waiting-message\",\n          children: \"Waiting for partner to join...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n          .session-manager {\n            position: relative;\n          }\n          .refresh-button:hover {\n            background-color: #357abd !important;\n            transform: translateY(-1px);\n            box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n_s(SessionManager, \"couPkPMquSWBoorZDKyAGtDoqQQ=\");\n_c = SessionManager;\nexport default _c2 = /*#__PURE__*/React.memo(SessionManager);\nvar _c, _c2;\n$RefreshReg$(_c, \"SessionManager\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","SessionCreate","SessionJoin","sessionService","matchingService","doc","updateDoc","db","jsxDEV","_jsxDEV","Fragment","_Fragment","SessionManager","onSessionStart","memberId","_s","memberIdRef","sessionId","setSessionId","sessionCode","setSessionCode","currentSession","setCurrentSession","isRefreshing","setIsRefreshing","useSmartMatching","setUseSmartMatching","algorithmAvailable","setAlgorithmAvailable","checkAlgorithm","healthCheck","error","console","warn","handleSessionUpdate","updatedSession","log","prevSession","JSON","stringify","code","wasSessionReady","members","length","isSessionNowReady","current","subscribeToSession","handleSessionCreated","id","session","joinSession","handleSessionJoined","handleManualRefresh","err","handleSmartMatchingToggle","enabled","sessionRef","otherMemberId","find","isSessionReady","sessionStyles","container","display","flexDirection","gap","marginBottom","padding","backgroundColor","borderRadius","boxShadow","position","header","justifyContent","alignItems","fontSize","fontWeight","margin","refreshButton","color","border","cursor","opacity","transition","zIndex","smartMatchingSection","background","marginTop","toggleContainer","toggle","width","height","toggleInput","slider","top","left","right","bottom","sliderButton","content","children","onSessionCreated","userId","fileName","_jsxFileName","lineNumber","columnNumber","className","onSessionJoined","style","onClick","disabled","animation","type","checked","onChange","e","target","slice","_c","_c2","memo","$RefreshReg$"],"sources":["/Users/maitemarzoratti/Documents/data-science/MovieMatch/moviematch/frontend/src/components/SessionManager.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport SessionCreate from './SessionCreate';\nimport SessionJoin from './SessionJoin';\nimport { sessionService, Session } from '../services/sessionService';\nimport { matchingService } from '../services/matchingService';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\n\ninterface SessionManagerProps {\n  onSessionStart: (session: Session, useSmartMatching: boolean) => void;\n  memberId: string;\n}\n\nconst SessionManager: React.FC<SessionManagerProps> = ({ onSessionStart, memberId }) => {\n  // Use the memberId passed from App.tsx instead of generating our own\n  const memberIdRef = useRef<string>(memberId);\n  \n  const [sessionId, setSessionId] = useState<string | null>(null);\n  const [sessionCode, setSessionCode] = useState<string | null>(null);\n  const [currentSession, setCurrentSession] = useState<Session | null>(null);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [useSmartMatching, setUseSmartMatching] = useState(true);\n  const [algorithmAvailable, setAlgorithmAvailable] = useState<boolean | null>(null);\n\n  // Check algorithm availability on mount\n  useEffect(() => {\n    const checkAlgorithm = async () => {\n      try {\n        await matchingService.healthCheck();\n        setAlgorithmAvailable(true);\n      } catch (error) {\n        console.warn('MovieMatch algorithm not available:', error);\n        setAlgorithmAvailable(false);\n        setUseSmartMatching(false);\n      }\n    };\n    \n    checkAlgorithm();\n  }, []);\n\n  const handleSessionUpdate = useCallback((updatedSession: Session | null) => {\n    console.log('[SessionManager] Firestore update received:', updatedSession);\n    if (updatedSession) {\n      // Only update current session state without triggering onSessionStart\n      setCurrentSession(prevSession => {\n        // Deep comparison to avoid unnecessary updates\n        if (JSON.stringify(prevSession) !== JSON.stringify(updatedSession)) {\n          // Update smart matching state from Firebase\n          setUseSmartMatching(updatedSession.useSmartMatching);\n          return updatedSession;\n        }\n        return prevSession;\n      });\n      setSessionCode(updatedSession.code);\n      \n      // Only call onSessionStart when we have 2 members (session is ready to start)\n      const wasSessionReady = currentSession?.members.length === 2;\n      const isSessionNowReady = updatedSession.members.length === 2;\n      \n      // Start the session only when it becomes ready (transitions from not ready to ready)\n      if (!wasSessionReady && isSessionNowReady) {\n        console.log('[SessionManager] Session now ready with 2 members, starting session');\n        onSessionStart(updatedSession, updatedSession.useSmartMatching);\n      }\n    }\n  }, [onSessionStart, currentSession]);\n\n  useEffect(() => {\n    if (!sessionId || !memberIdRef.current) return;\n    return sessionService.subscribeToSession(sessionId, handleSessionUpdate);\n  }, [sessionId, handleSessionUpdate]);\n\n  const handleSessionCreated = useCallback(async (id: string, code: string) => {\n    setSessionId(id);\n    setSessionCode(code);\n    \n    try {\n      const session = await sessionService.joinSession(code, memberIdRef.current);\n      handleSessionUpdate(session);\n    } catch (error) {\n      console.error('Failed to create session:', error);\n    }\n  }, [handleSessionUpdate]);\n\n  const handleSessionJoined = useCallback(async (id: string) => {\n    if (sessionId === id) return;\n\n    setSessionId(id);\n    \n    try {\n      const session = await sessionService.joinSession(id, memberIdRef.current);\n      handleSessionUpdate(session);\n    } catch (error) {\n      console.error('Failed to join session:', error);\n      setSessionId(null);\n      setSessionCode(null);\n      setCurrentSession(null);\n    }\n  }, [sessionId, handleSessionUpdate]);\n\n  const handleManualRefresh = useCallback(async () => {\n    if (!sessionId) return;\n\n    setIsRefreshing(true);\n    try {\n      const session = await sessionService.joinSession(sessionId, memberIdRef.current);\n      handleSessionUpdate(session);\n    } catch (err) {\n      console.error('Manual refresh error:', err);\n    } finally {\n      setIsRefreshing(false);\n    }\n  }, [sessionId, handleSessionUpdate]);\n\n  const handleSmartMatchingToggle = useCallback((enabled: boolean) => {\n    setUseSmartMatching(enabled);\n    if (currentSession) {\n      // Update Firebase with new smart matching state\n      const sessionRef = doc(db, 'sessions', currentSession.code);\n      updateDoc(sessionRef, { useSmartMatching: enabled });\n      onSessionStart(currentSession, enabled);\n    }\n  }, [currentSession, onSessionStart]);\n\n  const otherMemberId = useMemo(() => \n    currentSession?.members.find(id => id !== memberIdRef.current),\n    [currentSession?.members]\n  );\n\n  const isSessionReady = useMemo(() => \n    currentSession?.members.length === 2,\n    [currentSession?.members.length]\n  );\n\n  const sessionStyles = useMemo(() => ({\n    container: {\n      display: 'flex', \n      flexDirection: 'column' as const,\n      gap: '10px',\n      marginBottom: '20px',\n      padding: '15px',\n      backgroundColor: '#f8f9fa',\n      borderRadius: '8px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      position: 'relative' as const\n    },\n    header: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    code: {\n      fontSize: '24px', \n      fontWeight: 'bold' as const,\n      margin: '10px 0'\n    },\n    refreshButton: {\n      padding: '10px 20px',\n      backgroundColor: '#4a90e2',\n      color: 'white',\n      border: 'none',\n      borderRadius: '8px',\n      cursor: isRefreshing ? 'not-allowed' : 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n      opacity: isRefreshing ? 0.7 : 1,\n      transition: 'all 0.2s ease',\n      fontSize: '16px',\n      fontWeight: 'bold' as const,\n      zIndex: 1000\n    },\n    smartMatchingSection: {\n      background: algorithmAvailable ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : '#6c757d',\n      color: 'white',\n      padding: '15px',\n      borderRadius: '8px',\n      marginTop: '15px'\n    },\n    toggleContainer: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '10px'\n    },\n    toggle: {\n      position: 'relative' as const,\n      display: 'inline-block',\n      width: '60px',\n      height: '34px'\n    },\n    toggleInput: {\n      opacity: 0,\n      width: 0,\n      height: 0\n    },\n    slider: {\n      position: 'absolute' as const,\n      cursor: algorithmAvailable ? 'pointer' : 'not-allowed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: algorithmAvailable && useSmartMatching ? '#4CAF50' : '#ccc',\n      transition: '0.4s',\n      borderRadius: '34px',\n      opacity: algorithmAvailable ? 1 : 0.5\n    },\n    sliderButton: {\n      position: 'absolute' as const,\n      content: '\"\"',\n      height: '26px',\n      width: '26px',\n      left: useSmartMatching && algorithmAvailable ? '30px' : '4px',\n      bottom: '4px',\n      backgroundColor: 'white',\n      transition: '0.4s',\n      borderRadius: '50%'\n    }\n  }), [isRefreshing, algorithmAvailable, useSmartMatching]);\n\n  if (!sessionCode) {\n    return (\n      <>\n        <SessionCreate \n          onSessionCreated={handleSessionCreated} \n          userId={memberIdRef.current}\n        />\n        <div className=\"divider\">or</div>\n        <SessionJoin \n          onSessionJoined={handleSessionJoined}\n          memberId={memberIdRef.current}\n        />\n      </>\n    );\n  }\n\n  return (\n    <div className=\"session-manager\">\n      <div className=\"session-code\">\n        <div style={sessionStyles.container}>\n          <div style={sessionStyles.header}>\n            <h2 style={{ margin: 0 }}>Your Session Code</h2>\n            <button \n              onClick={handleManualRefresh}\n              className=\"refresh-button\"\n              disabled={isRefreshing}\n              style={sessionStyles.refreshButton}\n            >\n              <span style={{ \n                display: 'inline-block',\n                animation: isRefreshing ? 'spin 1s linear infinite' : 'none'\n              }}>\n                🔄\n              </span>\n              {isRefreshing ? 'Refreshing...' : 'Refresh Session'}\n            </button>\n          </div>\n          <p className=\"code\" style={sessionStyles.code}>{sessionCode}</p>\n          <p style={{ margin: 0 }}>Share this code with your movie partner!</p>\n          \n          {/* Smart Matching Toggle */}\n          <div style={sessionStyles.smartMatchingSection}>\n            <div style={sessionStyles.toggleContainer}>\n              <div>\n                <h4 style={{ margin: '0 0 5px 0' }}>🧠 Smart Matching Algorithm</h4>\n                <p style={{ margin: 0, fontSize: '0.9rem', opacity: 0.9 }}>\n                  {algorithmAvailable === null && 'Checking availability...'}\n                  {algorithmAvailable === false && 'Algorithm unavailable - using random movies'}\n                  {algorithmAvailable === true && (useSmartMatching \n                    ? 'Personalized recommendations enabled' \n                    : 'Using random movie selection')}\n                </p>\n              </div>\n              {algorithmAvailable && (\n                <label style={sessionStyles.toggle}>\n                  <input \n                    type=\"checkbox\" \n                    checked={useSmartMatching}\n                    onChange={(e) => handleSmartMatchingToggle(e.target.checked)}\n                    style={sessionStyles.toggleInput}\n                  />\n                  <span style={{...sessionStyles.slider}}>\n                    <span style={sessionStyles.sliderButton}></span>\n                  </span>\n                </label>\n              )}\n            </div>\n            {algorithmAvailable && useSmartMatching && (\n              <small style={{ opacity: 0.8 }}>\n                ✨ Algorithm learns your preferences and finds better matches over time\n              </small>\n            )}\n          </div>\n        </div>\n        {currentSession && (\n          <div className=\"session-status\" style={{ position: 'relative' }}>\n            <p className=\"members-count\">\n              Members in session: {currentSession.members.length}/2\n            </p>\n            <p className=\"member-id\">\n              Your ID: {memberIdRef.current.slice(0, 8)}...\n            </p>\n            {isSessionReady ? (\n              <p className=\"other-member\">\n                Paired with: {otherMemberId?.slice(0, 8)}...\n              </p>\n            ) : (\n              <p className=\"waiting-message\">Waiting for partner to join...</p>\n            )}\n          </div>\n        )}\n      </div>\n\n      <style>\n        {`\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n          .session-manager {\n            position: relative;\n          }\n          .refresh-button:hover {\n            background-color: #357abd !important;\n            transform: translateY(-1px);\n            box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default React.memo(SessionManager); "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AAChF,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,cAAc,QAAiB,4BAA4B;AACpE,SAASC,eAAe,QAAQ,6BAA6B;AAC7D,SAASC,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AACnD,SAASC,EAAE,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAOjC,MAAMC,cAA6C,GAAGA,CAAC;EAAEC,cAAc;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACtF;EACA,MAAMC,WAAW,GAAGlB,MAAM,CAASgB,QAAQ,CAAC;EAE5C,MAAM,CAACG,SAAS,EAAEC,YAAY,CAAC,GAAGtB,QAAQ,CAAgB,IAAI,CAAC;EAC/D,MAAM,CAACuB,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAgB,IAAI,CAAC;EACnE,MAAM,CAACyB,cAAc,EAAEC,iBAAiB,CAAC,GAAG1B,QAAQ,CAAiB,IAAI,CAAC;EAC1E,MAAM,CAAC2B,YAAY,EAAEC,eAAe,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC6B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAAC+B,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhC,QAAQ,CAAiB,IAAI,CAAC;;EAElF;EACAC,SAAS,CAAC,MAAM;IACd,MAAMgC,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMzB,eAAe,CAAC0B,WAAW,CAAC,CAAC;QACnCF,qBAAqB,CAAC,IAAI,CAAC;MAC7B,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdC,OAAO,CAACC,IAAI,CAAC,qCAAqC,EAAEF,KAAK,CAAC;QAC1DH,qBAAqB,CAAC,KAAK,CAAC;QAC5BF,mBAAmB,CAAC,KAAK,CAAC;MAC5B;IACF,CAAC;IAEDG,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,mBAAmB,GAAGnC,WAAW,CAAEoC,cAA8B,IAAK;IAC1EH,OAAO,CAACI,GAAG,CAAC,6CAA6C,EAAED,cAAc,CAAC;IAC1E,IAAIA,cAAc,EAAE;MAClB;MACAb,iBAAiB,CAACe,WAAW,IAAI;QAC/B;QACA,IAAIC,IAAI,CAACC,SAAS,CAACF,WAAW,CAAC,KAAKC,IAAI,CAACC,SAAS,CAACJ,cAAc,CAAC,EAAE;UAClE;UACAT,mBAAmB,CAACS,cAAc,CAACV,gBAAgB,CAAC;UACpD,OAAOU,cAAc;QACvB;QACA,OAAOE,WAAW;MACpB,CAAC,CAAC;MACFjB,cAAc,CAACe,cAAc,CAACK,IAAI,CAAC;;MAEnC;MACA,MAAMC,eAAe,GAAG,CAAApB,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEqB,OAAO,CAACC,MAAM,MAAK,CAAC;MAC5D,MAAMC,iBAAiB,GAAGT,cAAc,CAACO,OAAO,CAACC,MAAM,KAAK,CAAC;;MAE7D;MACA,IAAI,CAACF,eAAe,IAAIG,iBAAiB,EAAE;QACzCZ,OAAO,CAACI,GAAG,CAAC,qEAAqE,CAAC;QAClFvB,cAAc,CAACsB,cAAc,EAAEA,cAAc,CAACV,gBAAgB,CAAC;MACjE;IACF;EACF,CAAC,EAAE,CAACZ,cAAc,EAAEQ,cAAc,CAAC,CAAC;EAEpCxB,SAAS,CAAC,MAAM;IACd,IAAI,CAACoB,SAAS,IAAI,CAACD,WAAW,CAAC6B,OAAO,EAAE;IACxC,OAAO1C,cAAc,CAAC2C,kBAAkB,CAAC7B,SAAS,EAAEiB,mBAAmB,CAAC;EAC1E,CAAC,EAAE,CAACjB,SAAS,EAAEiB,mBAAmB,CAAC,CAAC;EAEpC,MAAMa,oBAAoB,GAAGhD,WAAW,CAAC,OAAOiD,EAAU,EAAER,IAAY,KAAK;IAC3EtB,YAAY,CAAC8B,EAAE,CAAC;IAChB5B,cAAc,CAACoB,IAAI,CAAC;IAEpB,IAAI;MACF,MAAMS,OAAO,GAAG,MAAM9C,cAAc,CAAC+C,WAAW,CAACV,IAAI,EAAExB,WAAW,CAAC6B,OAAO,CAAC;MAC3EX,mBAAmB,CAACe,OAAO,CAAC;IAC9B,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD;EACF,CAAC,EAAE,CAACG,mBAAmB,CAAC,CAAC;EAEzB,MAAMiB,mBAAmB,GAAGpD,WAAW,CAAC,MAAOiD,EAAU,IAAK;IAC5D,IAAI/B,SAAS,KAAK+B,EAAE,EAAE;IAEtB9B,YAAY,CAAC8B,EAAE,CAAC;IAEhB,IAAI;MACF,MAAMC,OAAO,GAAG,MAAM9C,cAAc,CAAC+C,WAAW,CAACF,EAAE,EAAEhC,WAAW,CAAC6B,OAAO,CAAC;MACzEX,mBAAmB,CAACe,OAAO,CAAC;IAC9B,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/Cb,YAAY,CAAC,IAAI,CAAC;MAClBE,cAAc,CAAC,IAAI,CAAC;MACpBE,iBAAiB,CAAC,IAAI,CAAC;IACzB;EACF,CAAC,EAAE,CAACL,SAAS,EAAEiB,mBAAmB,CAAC,CAAC;EAEpC,MAAMkB,mBAAmB,GAAGrD,WAAW,CAAC,YAAY;IAClD,IAAI,CAACkB,SAAS,EAAE;IAEhBO,eAAe,CAAC,IAAI,CAAC;IACrB,IAAI;MACF,MAAMyB,OAAO,GAAG,MAAM9C,cAAc,CAAC+C,WAAW,CAACjC,SAAS,EAAED,WAAW,CAAC6B,OAAO,CAAC;MAChFX,mBAAmB,CAACe,OAAO,CAAC;IAC9B,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZrB,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEsB,GAAG,CAAC;IAC7C,CAAC,SAAS;MACR7B,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC,EAAE,CAACP,SAAS,EAAEiB,mBAAmB,CAAC,CAAC;EAEpC,MAAMoB,yBAAyB,GAAGvD,WAAW,CAAEwD,OAAgB,IAAK;IAClE7B,mBAAmB,CAAC6B,OAAO,CAAC;IAC5B,IAAIlC,cAAc,EAAE;MAClB;MACA,MAAMmC,UAAU,GAAGnD,GAAG,CAACE,EAAE,EAAE,UAAU,EAAEc,cAAc,CAACmB,IAAI,CAAC;MAC3DlC,SAAS,CAACkD,UAAU,EAAE;QAAE/B,gBAAgB,EAAE8B;MAAQ,CAAC,CAAC;MACpD1C,cAAc,CAACQ,cAAc,EAAEkC,OAAO,CAAC;IACzC;EACF,CAAC,EAAE,CAAClC,cAAc,EAAER,cAAc,CAAC,CAAC;EAEpC,MAAM4C,aAAa,GAAGzD,OAAO,CAAC,MAC5BqB,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEqB,OAAO,CAACgB,IAAI,CAACV,EAAE,IAAIA,EAAE,KAAKhC,WAAW,CAAC6B,OAAO,CAAC,EAC9D,CAACxB,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEqB,OAAO,CAC1B,CAAC;EAED,MAAMiB,cAAc,GAAG3D,OAAO,CAAC,MAC7B,CAAAqB,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEqB,OAAO,CAACC,MAAM,MAAK,CAAC,EACpC,CAACtB,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEqB,OAAO,CAACC,MAAM,CACjC,CAAC;EAED,MAAMiB,aAAa,GAAG5D,OAAO,CAAC,OAAO;IACnC6D,SAAS,EAAE;MACTC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAiB;MAChCC,GAAG,EAAE,MAAM;MACXC,YAAY,EAAE,MAAM;MACpBC,OAAO,EAAE,MAAM;MACfC,eAAe,EAAE,SAAS;MAC1BC,YAAY,EAAE,KAAK;MACnBC,SAAS,EAAE,2BAA2B;MACtCC,QAAQ,EAAE;IACZ,CAAC;IACDC,MAAM,EAAE;MACNT,OAAO,EAAE,MAAM;MACfU,cAAc,EAAE,eAAe;MAC/BC,UAAU,EAAE;IACd,CAAC;IACDjC,IAAI,EAAE;MACJkC,QAAQ,EAAE,MAAM;MAChBC,UAAU,EAAE,MAAe;MAC3BC,MAAM,EAAE;IACV,CAAC;IACDC,aAAa,EAAE;MACbX,OAAO,EAAE,WAAW;MACpBC,eAAe,EAAE,SAAS;MAC1BW,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,MAAM;MACdX,YAAY,EAAE,KAAK;MACnBY,MAAM,EAAEzD,YAAY,GAAG,aAAa,GAAG,SAAS;MAChDuC,OAAO,EAAE,MAAM;MACfW,UAAU,EAAE,QAAQ;MACpBT,GAAG,EAAE,KAAK;MACViB,OAAO,EAAE1D,YAAY,GAAG,GAAG,GAAG,CAAC;MAC/B2D,UAAU,EAAE,eAAe;MAC3BR,QAAQ,EAAE,MAAM;MAChBC,UAAU,EAAE,MAAe;MAC3BQ,MAAM,EAAE;IACV,CAAC;IACDC,oBAAoB,EAAE;MACpBC,UAAU,EAAE1D,kBAAkB,GAAG,mDAAmD,GAAG,SAAS;MAChGmD,KAAK,EAAE,OAAO;MACdZ,OAAO,EAAE,MAAM;MACfE,YAAY,EAAE,KAAK;MACnBkB,SAAS,EAAE;IACb,CAAC;IACDC,eAAe,EAAE;MACfzB,OAAO,EAAE,MAAM;MACfU,cAAc,EAAE,eAAe;MAC/BC,UAAU,EAAE,QAAQ;MACpBR,YAAY,EAAE;IAChB,CAAC;IACDuB,MAAM,EAAE;MACNlB,QAAQ,EAAE,UAAmB;MAC7BR,OAAO,EAAE,cAAc;MACvB2B,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE;IACV,CAAC;IACDC,WAAW,EAAE;MACXV,OAAO,EAAE,CAAC;MACVQ,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE;IACV,CAAC;IACDE,MAAM,EAAE;MACNtB,QAAQ,EAAE,UAAmB;MAC7BU,MAAM,EAAErD,kBAAkB,GAAG,SAAS,GAAG,aAAa;MACtDkE,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,CAAC;MACT7B,eAAe,EAAExC,kBAAkB,IAAIF,gBAAgB,GAAG,SAAS,GAAG,MAAM;MAC5EyD,UAAU,EAAE,MAAM;MAClBd,YAAY,EAAE,MAAM;MACpBa,OAAO,EAAEtD,kBAAkB,GAAG,CAAC,GAAG;IACpC,CAAC;IACDsE,YAAY,EAAE;MACZ3B,QAAQ,EAAE,UAAmB;MAC7B4B,OAAO,EAAE,IAAI;MACbR,MAAM,EAAE,MAAM;MACdD,KAAK,EAAE,MAAM;MACbK,IAAI,EAAErE,gBAAgB,IAAIE,kBAAkB,GAAG,MAAM,GAAG,KAAK;MAC7DqE,MAAM,EAAE,KAAK;MACb7B,eAAe,EAAE,OAAO;MACxBe,UAAU,EAAE,MAAM;MAClBd,YAAY,EAAE;IAChB;EACF,CAAC,CAAC,EAAE,CAAC7C,YAAY,EAAEI,kBAAkB,EAAEF,gBAAgB,CAAC,CAAC;EAEzD,IAAI,CAACN,WAAW,EAAE;IAChB,oBACEV,OAAA,CAAAE,SAAA;MAAAwF,QAAA,gBACE1F,OAAA,CAACR,aAAa;QACZmG,gBAAgB,EAAErD,oBAAqB;QACvCsD,MAAM,EAAErF,WAAW,CAAC6B;MAAQ;QAAAyD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC,eACFhG,OAAA;QAAKiG,SAAS,EAAC,SAAS;QAAAP,QAAA,EAAC;MAAE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACjChG,OAAA,CAACP,WAAW;QACVyG,eAAe,EAAExD,mBAAoB;QACrCrC,QAAQ,EAAEE,WAAW,CAAC6B;MAAQ;QAAAyD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC;IAAA,eACF,CAAC;EAEP;EAEA,oBACEhG,OAAA;IAAKiG,SAAS,EAAC,iBAAiB;IAAAP,QAAA,gBAC9B1F,OAAA;MAAKiG,SAAS,EAAC,cAAc;MAAAP,QAAA,gBAC3B1F,OAAA;QAAKmG,KAAK,EAAEhD,aAAa,CAACC,SAAU;QAAAsC,QAAA,gBAClC1F,OAAA;UAAKmG,KAAK,EAAEhD,aAAa,CAACW,MAAO;UAAA4B,QAAA,gBAC/B1F,OAAA;YAAImG,KAAK,EAAE;cAAEhC,MAAM,EAAE;YAAE,CAAE;YAAAuB,QAAA,EAAC;UAAiB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChDhG,OAAA;YACEoG,OAAO,EAAEzD,mBAAoB;YAC7BsD,SAAS,EAAC,gBAAgB;YAC1BI,QAAQ,EAAEvF,YAAa;YACvBqF,KAAK,EAAEhD,aAAa,CAACiB,aAAc;YAAAsB,QAAA,gBAEnC1F,OAAA;cAAMmG,KAAK,EAAE;gBACX9C,OAAO,EAAE,cAAc;gBACvBiD,SAAS,EAAExF,YAAY,GAAG,yBAAyB,GAAG;cACxD,CAAE;cAAA4E,QAAA,EAAC;YAEH;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EACNlF,YAAY,GAAG,eAAe,GAAG,iBAAiB;UAAA;YAAA+E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNhG,OAAA;UAAGiG,SAAS,EAAC,MAAM;UAACE,KAAK,EAAEhD,aAAa,CAACpB,IAAK;UAAA2D,QAAA,EAAEhF;QAAW;UAAAmF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChEhG,OAAA;UAAGmG,KAAK,EAAE;YAAEhC,MAAM,EAAE;UAAE,CAAE;UAAAuB,QAAA,EAAC;QAAwC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAGrEhG,OAAA;UAAKmG,KAAK,EAAEhD,aAAa,CAACwB,oBAAqB;UAAAe,QAAA,gBAC7C1F,OAAA;YAAKmG,KAAK,EAAEhD,aAAa,CAAC2B,eAAgB;YAAAY,QAAA,gBACxC1F,OAAA;cAAA0F,QAAA,gBACE1F,OAAA;gBAAImG,KAAK,EAAE;kBAAEhC,MAAM,EAAE;gBAAY,CAAE;gBAAAuB,QAAA,EAAC;cAA2B;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpEhG,OAAA;gBAAGmG,KAAK,EAAE;kBAAEhC,MAAM,EAAE,CAAC;kBAAEF,QAAQ,EAAE,QAAQ;kBAAEO,OAAO,EAAE;gBAAI,CAAE;gBAAAkB,QAAA,GACvDxE,kBAAkB,KAAK,IAAI,IAAI,0BAA0B,EACzDA,kBAAkB,KAAK,KAAK,IAAI,6CAA6C,EAC7EA,kBAAkB,KAAK,IAAI,KAAKF,gBAAgB,GAC7C,sCAAsC,GACtC,8BAA8B,CAAC;cAAA;gBAAA6E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,EACL9E,kBAAkB,iBACjBlB,OAAA;cAAOmG,KAAK,EAAEhD,aAAa,CAAC4B,MAAO;cAAAW,QAAA,gBACjC1F,OAAA;gBACEuG,IAAI,EAAC,UAAU;gBACfC,OAAO,EAAExF,gBAAiB;gBAC1ByF,QAAQ,EAAGC,CAAC,IAAK7D,yBAAyB,CAAC6D,CAAC,CAACC,MAAM,CAACH,OAAO,CAAE;gBAC7DL,KAAK,EAAEhD,aAAa,CAAC+B;cAAY;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClC,CAAC,eACFhG,OAAA;gBAAMmG,KAAK,EAAE;kBAAC,GAAGhD,aAAa,CAACgC;gBAAM,CAAE;gBAAAO,QAAA,eACrC1F,OAAA;kBAAMmG,KAAK,EAAEhD,aAAa,CAACqC;gBAAa;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CACR;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EACL9E,kBAAkB,IAAIF,gBAAgB,iBACrChB,OAAA;YAAOmG,KAAK,EAAE;cAAE3B,OAAO,EAAE;YAAI,CAAE;YAAAkB,QAAA,EAAC;UAEhC;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CACR;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EACLpF,cAAc,iBACbZ,OAAA;QAAKiG,SAAS,EAAC,gBAAgB;QAACE,KAAK,EAAE;UAAEtC,QAAQ,EAAE;QAAW,CAAE;QAAA6B,QAAA,gBAC9D1F,OAAA;UAAGiG,SAAS,EAAC,eAAe;UAAAP,QAAA,GAAC,sBACP,EAAC9E,cAAc,CAACqB,OAAO,CAACC,MAAM,EAAC,IACrD;QAAA;UAAA2D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJhG,OAAA;UAAGiG,SAAS,EAAC,WAAW;UAAAP,QAAA,GAAC,WACd,EAACnF,WAAW,CAAC6B,OAAO,CAACwE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,KAC5C;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,EACH9C,cAAc,gBACblD,OAAA;UAAGiG,SAAS,EAAC,cAAc;UAAAP,QAAA,GAAC,eACb,EAAC1C,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAE4D,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,KAC3C;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEJhG,OAAA;UAAGiG,SAAS,EAAC,iBAAiB;UAAAP,QAAA,EAAC;QAA8B;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CACjE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAENhG,OAAA;MAAA0F,QAAA,EACG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAS;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC;AAAC1F,EAAA,CA/TIH,cAA6C;AAAA0G,EAAA,GAA7C1G,cAA6C;AAiUnD,eAAA2G,GAAA,gBAAe5H,KAAK,CAAC6H,IAAI,CAAC5G,cAAc,CAAC;AAAC,IAAA0G,EAAA,EAAAC,GAAA;AAAAE,YAAA,CAAAH,EAAA;AAAAG,YAAA,CAAAF,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}