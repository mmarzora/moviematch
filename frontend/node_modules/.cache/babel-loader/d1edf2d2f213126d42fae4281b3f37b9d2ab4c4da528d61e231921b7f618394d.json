{"ast":null,"code":"var _jsxFileName = \"/Users/maitemarzoratti/Documents/data-science/MovieMatch/moviematch/frontend/src/components/RecommendationExplanation.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './RecommendationExplanation.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RecommendationExplanation = ({\n  sessionId,\n  movieId,\n  user1Id,\n  user2Id,\n  user1Name = \"You\",\n  user2Name = \"Partner\",\n  onClose\n}) => {\n  _s();\n  const [explanation, setExplanation] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showDetailed, setShowDetailed] = useState(false);\n  useEffect(() => {\n    const fetchExplanation = async () => {\n      try {\n        setLoading(true);\n\n        // Dynamic API URL configuration\n        const getAPIBaseURL = () => {\n          if (typeof window !== 'undefined') {\n            const hostname = window.location.hostname;\n            if (hostname === 'localhost' || hostname === '127.0.0.1') {\n              return 'http://localhost:8000';\n            } else {\n              // Use the network IP for cross-device access\n              return 'http://192.168.1.13:8000';\n            }\n          }\n          return 'http://localhost:8000';\n        };\n        const response = await fetch(`${getAPIBaseURL()}/api/matching/explain/${sessionId}/${movieId}?user1_id=${user1Id}&user2_id=${user2Id}`);\n        if (!response.ok) {\n          throw new Error('Failed to fetch explanation');\n        }\n        const data = await response.json();\n        setExplanation(data);\n      } catch (err) {\n        console.error('Error fetching explanation:', err);\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchExplanation();\n  }, [sessionId, movieId, user1Id, user2Id]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explanation-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explanation-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"explanation-loading\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Analyzing recommendation...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !explanation) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explanation-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explanation-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"explanation-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Explanation Not Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), onClose && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: onClose,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Unable to explain this recommendation: \", error || 'Unknown error']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this);\n  }\n  const {\n    detailed_breakdown\n  } = explanation;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"explanation-modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explanation-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explanation-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\uD83E\\uDD14 Why \\\"\", explanation.movie_title, \"\\\"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), onClose && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `stage-indicator stage-${explanation.session_stage}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stage-label\",\n          children: explanation.session_stage.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stage-description\",\n          children: detailed_breakdown.algorithm_stage.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"primary-explanation\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCDD Main Reason\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"explanation-text\",\n          children: explanation.primary_explanation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), explanation.why_this_movie.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"key-reasons\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83C\\uDFAF Key Factors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"reasons-list\",\n          children: explanation.why_this_movie.map((reason, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"reason-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reason-bullet\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 19\n            }, this), reason]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compatibility-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83C\\uDFAD Genre Match\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `compatibility-card ${detailed_breakdown.genre_compatibility.match_quality}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compatibility-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"quality-badge\",\n              children: detailed_breakdown.genre_compatibility.match_quality\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"score\",\n              children: [(detailed_breakdown.genre_compatibility.combined_score * 100).toFixed(0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: detailed_breakdown.genre_compatibility.explanation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-scores-breakdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"\\uD83D\\uDCCA Individual Genre Scores\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-scores-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-score-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: user1Name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"genre-scores\",\n                  children: Object.entries(detailed_breakdown.genre_compatibility.user1_genre_scores).map(([genre, score]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"genre-score-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"genre-name\",\n                      children: genre\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"score-bar\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"score-fill user1-score\",\n                        style: {\n                          width: `${score * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"score-value\",\n                      children: [(score * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this)]\n                  }, genre, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-average\",\n                  children: [\"Average: \", (Object.values(detailed_breakdown.genre_compatibility.user1_genre_scores).reduce((a, b) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user1_genre_scores).length * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-score-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: user2Name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"genre-scores\",\n                  children: Object.entries(detailed_breakdown.genre_compatibility.user2_genre_scores).map(([genre, score]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"genre-score-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"genre-name\",\n                      children: genre\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"score-bar\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"score-fill user2-score\",\n                        style: {\n                          width: `${score * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"score-value\",\n                      children: [(score * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 25\n                    }, this)]\n                  }, genre, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-average\",\n                  children: [\"Average: \", (Object.values(detailed_breakdown.genre_compatibility.user2_genre_scores).reduce((a, b) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user2_genre_scores).length * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scoring-formula\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\uD83E\\uDDEE How the Score is Calculated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formula-breakdown\",\n                children: (() => {\n                  const user1Avg = Object.values(detailed_breakdown.genre_compatibility.user1_genre_scores).reduce((a, b) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user1_genre_scores).length;\n                  const user2Avg = Object.values(detailed_breakdown.genre_compatibility.user2_genre_scores).reduce((a, b) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user2_genre_scores).length;\n                  const minScore = Math.min(user1Avg, user2Avg);\n                  const avgScore = (user1Avg + user2Avg) / 2;\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-step\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-label\",\n                        children: \"Step 1:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 249,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-content\",\n                        children: \"Calculate each user's average preference for movie genres\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-values\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [user1Name, \": \", (user1Avg * 100).toFixed(0), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 253,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [user2Name, \": \", (user2Avg * 100).toFixed(0), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-step\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-label\",\n                        children: \"Step 2:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-content\",\n                        children: \"Apply dual-user compatibility formula:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-equation\",\n                      children: [\"Final Score = 70% \\xD7 min(\", (user1Avg * 100).toFixed(0), \"%, \", (user2Avg * 100).toFixed(0), \"%) + 30% \\xD7 avg(\", (user1Avg * 100).toFixed(0), \"%, \", (user2Avg * 100).toFixed(0), \"%)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-calculation\",\n                      children: [\"= 70% \\xD7 \", (minScore * 100).toFixed(0), \"% + 30% \\xD7 \", (avgScore * 100).toFixed(0), \"% = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [(detailed_breakdown.genre_compatibility.combined_score * 100).toFixed(0), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-explanation\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Why this formula?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 27\n                      }, this), \" We use 70% minimum to ensure both users are satisfied, plus 30% average to avoid being too conservative.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true);\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), detailed_breakdown.genre_compatibility.best_matching_genres.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"matching-genres\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Best matches:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this), \" \", detailed_breakdown.genre_compatibility.best_matching_genres.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compatibility-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83E\\uDDE0 Taste Similarity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `compatibility-card ${detailed_breakdown.semantic_similarity.similarity_quality}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compatibility-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"quality-badge\",\n              children: detailed_breakdown.semantic_similarity.similarity_quality\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"score\",\n              children: [(detailed_breakdown.semantic_similarity.combined_similarity * 100).toFixed(0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: detailed_breakdown.semantic_similarity.explanation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), detailed_breakdown.semantic_similarity.user1_similarity !== 0.5 && detailed_breakdown.semantic_similarity.user2_similarity !== 0.5 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-scores-breakdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"\\uD83D\\uDCCA Individual Similarity Scores\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"similarity-breakdown-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"similarity-user\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-label\",\n                  children: user1Name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"similarity-bar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"similarity-fill user1-similarity\",\n                    style: {\n                      width: `${detailed_breakdown.semantic_similarity.user1_similarity * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"similarity-value\",\n                  children: [(detailed_breakdown.semantic_similarity.user1_similarity * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"similarity-user\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-label\",\n                  children: user2Name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"similarity-bar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"similarity-fill user2-similarity\",\n                    style: {\n                      width: `${detailed_breakdown.semantic_similarity.user2_similarity * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"similarity-value\",\n                  children: [(detailed_breakdown.semantic_similarity.user2_similarity * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scoring-formula\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\uD83E\\uDDEE Semantic Similarity Calculation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formula-breakdown\",\n                children: (() => {\n                  const user1Sim = detailed_breakdown.semantic_similarity.user1_similarity;\n                  const user2Sim = detailed_breakdown.semantic_similarity.user2_similarity;\n                  const minSim = Math.min(user1Sim, user2Sim);\n                  const avgSim = (user1Sim + user2Sim) / 2;\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-step\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-label\",\n                        children: \"Step 1:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-content\",\n                        children: \"Calculate cosine similarity between movie embedding and each user's taste vector\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-values\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [user1Name, \": \", (user1Sim * 100).toFixed(0), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 342,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [user2Name, \": \", (user2Sim * 100).toFixed(0), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 343,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-step\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-label\",\n                        children: \"Step 2:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 347,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"step-content\",\n                        children: \"Apply same dual-user formula:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-equation\",\n                      children: [\"Combined = 70% \\xD7 min(\", (user1Sim * 100).toFixed(0), \"%, \", (user2Sim * 100).toFixed(0), \"%) + 30% \\xD7 avg(\", (user1Sim * 100).toFixed(0), \"%, \", (user2Sim * 100).toFixed(0), \"%)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-calculation\",\n                      children: [\"= 70% \\xD7 \", (minSim * 100).toFixed(0), \"% + 30% \\xD7 \", (avgSim * 100).toFixed(0), \"% = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [(detailed_breakdown.semantic_similarity.combined_similarity * 100).toFixed(0), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 355,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"formula-explanation\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"What's this?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 29\n                      }, this), \" This measures how similar the movie's \\\"semantic fingerprint\\\" is to what you both typically enjoy, going beyond just genres.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true);\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confidence-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCCA Algorithm Confidence\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `confidence-card confidence-${detailed_breakdown.confidence_factors.overall_confidence}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"confidence-level\",\n            children: [detailed_breakdown.confidence_factors.overall_confidence, \" confidence\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: detailed_breakdown.confidence_factors.confidence_explanation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detailed-toggle\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"toggle-detailed-btn\",\n          onClick: () => setShowDetailed(!showDetailed),\n          children: showDetailed ? '📊 Hide Technical Details' : '🔍 Show Technical Details'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), showDetailed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"technical-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDD27 Technical Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tech-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Algorithm Stage: \", explanation.session_stage]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Focus:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 18\n            }, this), \" \", detailed_breakdown.algorithm_stage.focus]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total Interactions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 18\n            }, this), \" \", explanation.user_context.user1_interactions + explanation.user_context.user2_interactions]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tech-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83C\\uDFAF Overall Recommendation Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overall-score-breakdown\",\n            children: (() => {\n              const weights = detailed_breakdown.algorithm_stage.weights;\n              const genreScore = detailed_breakdown.genre_compatibility.combined_score;\n              const semanticScore = detailed_breakdown.semantic_similarity.combined_similarity;\n              const overallScore = weights.genre * genreScore + weights.embedding * semanticScore;\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"score-components\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"score-component\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"component-label\",\n                      children: \"\\uD83C\\uDFAD Genre Match\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"component-calculation\",\n                      children: [(weights.genre * 100).toFixed(0), \"% \\xD7 \", (genreScore * 100).toFixed(0), \"% = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [(weights.genre * genreScore * 100).toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 102\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"score-component\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"component-label\",\n                      children: \"\\uD83E\\uDDE0 Semantic Similarity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"component-calculation\",\n                      children: [(weights.embedding * 100).toFixed(0), \"% \\xD7 \", (semanticScore * 100).toFixed(0), \"% = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [(weights.embedding * semanticScore * 100).toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 109\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"score-component\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"component-label\",\n                      children: \"\\uD83C\\uDFB2 Diversity Factor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"component-calculation\",\n                      children: [(weights.diversity * 100).toFixed(0), \"% \\xD7 Random = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [(weights.diversity * 100).toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 431,\n                        columnNumber: 80\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"final-score-calculation\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"final-formula\",\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"Final Score = \", (weights.genre * genreScore * 100).toFixed(1), \"% + \", (weights.embedding * semanticScore * 100).toFixed(1), \"% + \", (weights.diversity * 100).toFixed(1), \"% = \", (overallScore * 100).toFixed(1), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stage-explanation\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"Stage Weights (\", explanation.session_stage, \"):\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 27\n                    }, this), \" Genre \", (weights.genre * 100).toFixed(0), \"% | Semantic \", (weights.embedding * 100).toFixed(0), \"% | Diversity \", (weights.diversity * 100).toFixed(0), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"score-visualization\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"score-bar-container\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"score-bar-label\",\n                      children: \"Overall Compatibility\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"score-bar-full\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"score-bar-fill overall-score\",\n                        style: {\n                          width: `${overallScore * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 449,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"score-bar-value\",\n                      children: [(overallScore * 100).toFixed(1), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true);\n            })()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tech-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"User Confidence Scores\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-confidence\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"confidence-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [user1Name, \": \", (explanation.user_context.user1_confidence * 100).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confidence-progress\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"confidence-fill\",\n                  style: {\n                    width: `${explanation.user_context.user1_confidence * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"confidence-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [user2Name, \": \", (explanation.user_context.user2_confidence * 100).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confidence-progress\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"confidence-fill\",\n                  style: {\n                    width: `${explanation.user_context.user2_confidence * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n_s(RecommendationExplanation, \"xmngZx9f33P+0QFl9GA7ND0TtQ8=\");\n_c = RecommendationExplanation;\nexport default RecommendationExplanation;\nvar _c;\n$RefreshReg$(_c, \"RecommendationExplanation\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","RecommendationExplanation","sessionId","movieId","user1Id","user2Id","user1Name","user2Name","onClose","_s","explanation","setExplanation","loading","setLoading","error","setError","showDetailed","setShowDetailed","fetchExplanation","getAPIBaseURL","window","hostname","location","response","fetch","ok","Error","data","json","err","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","detailed_breakdown","movie_title","session_stage","toUpperCase","algorithm_stage","description","primary_explanation","why_this_movie","length","map","reason","index","genre_compatibility","match_quality","combined_score","toFixed","Object","entries","user1_genre_scores","genre","score","style","width","values","reduce","a","b","keys","user2_genre_scores","user1Avg","user2Avg","minScore","Math","min","avgScore","best_matching_genres","join","semantic_similarity","similarity_quality","combined_similarity","user1_similarity","user2_similarity","user1Sim","user2Sim","minSim","avgSim","confidence_factors","overall_confidence","confidence_explanation","focus","user_context","user1_interactions","user2_interactions","weights","genreScore","semanticScore","overallScore","embedding","diversity","user1_confidence","user2_confidence","_c","$RefreshReg$"],"sources":["/Users/maitemarzoratti/Documents/data-science/MovieMatch/moviematch/frontend/src/components/RecommendationExplanation.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './RecommendationExplanation.css';\n\ninterface ExplanationData {\n  movie_id: number;\n  movie_title: string;\n  session_stage: string;\n  primary_explanation: string;\n  why_this_movie: string[];\n  detailed_breakdown: {\n    genre_compatibility: {\n      match_quality: string;\n      explanation: string;\n      combined_score: number;\n      best_matching_genres: string[];\n      user1_genre_scores: Record<string, number>;\n      user2_genre_scores: Record<string, number>;\n    };\n    semantic_similarity: {\n      similarity_quality: string;\n      explanation: string;\n      combined_similarity: number;\n      user1_similarity: number;\n      user2_similarity: number;\n    };\n    algorithm_stage: {\n      stage: string;\n      description: string;\n      focus: string;\n      weights: {\n        genre: number;\n        embedding: number;\n        diversity: number;\n      };\n    };\n    confidence_factors: {\n      overall_confidence: string;\n      confidence_explanation: string;\n    };\n  };\n  user_context: {\n    user1_interactions: number;\n    user2_interactions: number;\n    user1_confidence: number;\n    user2_confidence: number;\n  };\n}\n\ninterface RecommendationExplanationProps {\n  sessionId: string;\n  movieId: number;\n  user1Id: string;\n  user2Id: string;\n  user1Name?: string;\n  user2Name?: string;\n  onClose?: () => void;\n}\n\nconst RecommendationExplanation: React.FC<RecommendationExplanationProps> = ({\n  sessionId,\n  movieId,\n  user1Id,\n  user2Id,\n  user1Name = \"You\",\n  user2Name = \"Partner\",\n  onClose\n}) => {\n  const [explanation, setExplanation] = useState<ExplanationData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showDetailed, setShowDetailed] = useState(false);\n\n  useEffect(() => {\n    const fetchExplanation = async () => {\n      try {\n        setLoading(true);\n        \n        // Dynamic API URL configuration\n        const getAPIBaseURL = () => {\n          if (typeof window !== 'undefined') {\n            const hostname = window.location.hostname;\n            if (hostname === 'localhost' || hostname === '127.0.0.1') {\n              return 'http://localhost:8000';\n            } else {\n              // Use the network IP for cross-device access\n              return 'http://192.168.1.13:8000';\n            }\n          }\n          return 'http://localhost:8000';\n        };\n\n        const response = await fetch(\n          `${getAPIBaseURL()}/api/matching/explain/${sessionId}/${movieId}?user1_id=${user1Id}&user2_id=${user2Id}`\n        );\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch explanation');\n        }\n\n        const data = await response.json();\n        setExplanation(data);\n      } catch (err: any) {\n        console.error('Error fetching explanation:', err);\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchExplanation();\n  }, [sessionId, movieId, user1Id, user2Id]);\n\n  if (loading) {\n    return (\n      <div className=\"explanation-modal\">\n        <div className=\"explanation-content\">\n          <div className=\"explanation-loading\">\n            <div className=\"loading-spinner\"></div>\n            <p>Analyzing recommendation...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !explanation) {\n    return (\n      <div className=\"explanation-modal\">\n        <div className=\"explanation-content\">\n          <div className=\"explanation-header\">\n            <h3>Explanation Not Available</h3>\n            {onClose && <button className=\"close-btn\" onClick={onClose}>×</button>}\n          </div>\n          <p>Unable to explain this recommendation: {error || 'Unknown error'}</p>\n        </div>\n      </div>\n    );\n  }\n\n  const { detailed_breakdown } = explanation;\n\n  return (\n    <div className=\"explanation-modal\">\n      <div className=\"explanation-content\">\n        <div className=\"explanation-header\">\n          <h3>🤔 Why \"{explanation.movie_title}\"?</h3>\n          {onClose && <button className=\"close-btn\" onClick={onClose}>×</button>}\n        </div>\n\n        {/* Stage Badge */}\n        <div className={`stage-indicator stage-${explanation.session_stage}`}>\n          <span className=\"stage-label\">{explanation.session_stage.toUpperCase()}</span>\n          <span className=\"stage-description\">\n            {detailed_breakdown.algorithm_stage.description}\n          </span>\n        </div>\n\n        {/* Primary Explanation */}\n        <div className=\"primary-explanation\">\n          <h4>📝 Main Reason</h4>\n          <p className=\"explanation-text\">{explanation.primary_explanation}</p>\n        </div>\n\n        {/* Key Reasons */}\n        {explanation.why_this_movie.length > 0 && (\n          <div className=\"key-reasons\">\n            <h4>🎯 Key Factors</h4>\n            <ul className=\"reasons-list\">\n              {explanation.why_this_movie.map((reason, index) => (\n                <li key={index} className=\"reason-item\">\n                  <span className=\"reason-bullet\">•</span>\n                  {reason}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Genre Compatibility */}\n        <div className=\"compatibility-section\">\n          <h4>🎭 Genre Match</h4>\n          <div className={`compatibility-card ${detailed_breakdown.genre_compatibility.match_quality}`}>\n            <div className=\"compatibility-header\">\n              <span className=\"quality-badge\">{detailed_breakdown.genre_compatibility.match_quality}</span>\n              <span className=\"score\">{(detailed_breakdown.genre_compatibility.combined_score * 100).toFixed(0)}%</span>\n            </div>\n            <p>{detailed_breakdown.genre_compatibility.explanation}</p>\n            \n            {/* Individual User Genre Scores */}\n            <div className=\"user-scores-breakdown\">\n              <h5>📊 Individual Genre Scores</h5>\n              <div className=\"user-scores-grid\">\n                <div className=\"user-score-section\">\n                  <h6>{user1Name}</h6>\n                  <div className=\"genre-scores\">\n                    {Object.entries(detailed_breakdown.genre_compatibility.user1_genre_scores).map(([genre, score]) => (\n                      <div key={genre} className=\"genre-score-item\">\n                        <span className=\"genre-name\">{genre}</span>\n                        <div className=\"score-bar\">\n                          <div \n                            className=\"score-fill user1-score\" \n                            style={{ width: `${(score as number) * 100}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"score-value\">{((score as number) * 100).toFixed(0)}%</span>\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"user-average\">\n                    Average: {(Object.values(detailed_breakdown.genre_compatibility.user1_genre_scores).reduce((a: number, b: any) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user1_genre_scores).length * 100).toFixed(0)}%\n                  </div>\n                </div>\n                \n                <div className=\"user-score-section\">\n                  <h6>{user2Name}</h6>\n                  <div className=\"genre-scores\">\n                    {Object.entries(detailed_breakdown.genre_compatibility.user2_genre_scores).map(([genre, score]) => (\n                      <div key={genre} className=\"genre-score-item\">\n                        <span className=\"genre-name\">{genre}</span>\n                        <div className=\"score-bar\">\n                          <div \n                            className=\"score-fill user2-score\" \n                            style={{ width: `${(score as number) * 100}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"score-value\">{((score as number) * 100).toFixed(0)}%</span>\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"user-average\">\n                    Average: {(Object.values(detailed_breakdown.genre_compatibility.user2_genre_scores).reduce((a: number, b: any) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user2_genre_scores).length * 100).toFixed(0)}%\n                  </div>\n                </div>\n              </div>\n              \n              {/* Scoring Formula Explanation */}\n              <div className=\"scoring-formula\">\n                <h6>🧮 How the Score is Calculated</h6>\n                <div className=\"formula-breakdown\">\n                  {(() => {\n                    const user1Avg = Object.values(detailed_breakdown.genre_compatibility.user1_genre_scores).reduce((a: number, b: any) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user1_genre_scores).length;\n                    const user2Avg = Object.values(detailed_breakdown.genre_compatibility.user2_genre_scores).reduce((a: number, b: any) => a + b, 0) / Object.keys(detailed_breakdown.genre_compatibility.user2_genre_scores).length;\n                    const minScore = Math.min(user1Avg, user2Avg);\n                    const avgScore = (user1Avg + user2Avg) / 2;\n                    \n                    return (\n                      <>\n                        <div className=\"formula-step\">\n                          <span className=\"step-label\">Step 1:</span>\n                          <span className=\"step-content\">Calculate each user's average preference for movie genres</span>\n                        </div>\n                        <div className=\"formula-values\">\n                          <span>{user1Name}: {(user1Avg * 100).toFixed(0)}%</span>\n                          <span>{user2Name}: {(user2Avg * 100).toFixed(0)}%</span>\n                        </div>\n                        \n                        <div className=\"formula-step\">\n                          <span className=\"step-label\">Step 2:</span>\n                          <span className=\"step-content\">Apply dual-user compatibility formula:</span>\n                        </div>\n                        <div className=\"formula-equation\">\n                          Final Score = 70% × min({(user1Avg * 100).toFixed(0)}%, {(user2Avg * 100).toFixed(0)}%) + 30% × avg({(user1Avg * 100).toFixed(0)}%, {(user2Avg * 100).toFixed(0)}%)\n                        </div>\n                        <div className=\"formula-calculation\">\n                          = 70% × {(minScore * 100).toFixed(0)}% + 30% × {(avgScore * 100).toFixed(0)}%\n                          = <strong>{(detailed_breakdown.genre_compatibility.combined_score * 100).toFixed(0)}%</strong>\n                        </div>\n                        \n                        <div className=\"formula-explanation\">\n                          <strong>Why this formula?</strong> We use 70% minimum to ensure both users are satisfied, plus 30% average to avoid being too conservative.\n                        </div>\n                      </>\n                    );\n                  })()}\n                </div>\n              </div>\n            </div>\n\n            {detailed_breakdown.genre_compatibility.best_matching_genres.length > 0 && (\n              <div className=\"matching-genres\">\n                <strong>Best matches:</strong> {detailed_breakdown.genre_compatibility.best_matching_genres.join(', ')}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Semantic Similarity */}\n        <div className=\"compatibility-section\">\n          <h4>🧠 Taste Similarity</h4>\n          <div className={`compatibility-card ${detailed_breakdown.semantic_similarity.similarity_quality}`}>\n            <div className=\"compatibility-header\">\n              <span className=\"quality-badge\">{detailed_breakdown.semantic_similarity.similarity_quality}</span>\n              <span className=\"score\">{(detailed_breakdown.semantic_similarity.combined_similarity * 100).toFixed(0)}%</span>\n            </div>\n            <p>{detailed_breakdown.semantic_similarity.explanation}</p>\n            \n            {/* Individual User Similarity Scores */}\n            {detailed_breakdown.semantic_similarity.user1_similarity !== 0.5 && detailed_breakdown.semantic_similarity.user2_similarity !== 0.5 && (\n              <div className=\"user-scores-breakdown\">\n                <h5>📊 Individual Similarity Scores</h5>\n                <div className=\"similarity-breakdown-grid\">\n                  <div className=\"similarity-user\">\n                    <span className=\"user-label\">{user1Name}</span>\n                    <div className=\"similarity-bar\">\n                      <div \n                        className=\"similarity-fill user1-similarity\" \n                        style={{ width: `${detailed_breakdown.semantic_similarity.user1_similarity * 100}%` }}\n                      ></div>\n                    </div>\n                    <span className=\"similarity-value\">{(detailed_breakdown.semantic_similarity.user1_similarity * 100).toFixed(0)}%</span>\n                  </div>\n                  \n                  <div className=\"similarity-user\">\n                    <span className=\"user-label\">{user2Name}</span>\n                    <div className=\"similarity-bar\">\n                      <div \n                        className=\"similarity-fill user2-similarity\" \n                        style={{ width: `${detailed_breakdown.semantic_similarity.user2_similarity * 100}%` }}\n                      ></div>\n                    </div>\n                    <span className=\"similarity-value\">{(detailed_breakdown.semantic_similarity.user2_similarity * 100).toFixed(0)}%</span>\n                  </div>\n                </div>\n                \n                {/* Semantic Scoring Formula */}\n                <div className=\"scoring-formula\">\n                  <h6>🧮 Semantic Similarity Calculation</h6>\n                  <div className=\"formula-breakdown\">\n                    {(() => {\n                      const user1Sim = detailed_breakdown.semantic_similarity.user1_similarity;\n                      const user2Sim = detailed_breakdown.semantic_similarity.user2_similarity;\n                      const minSim = Math.min(user1Sim, user2Sim);\n                      const avgSim = (user1Sim + user2Sim) / 2;\n                      \n                      return (\n                        <>\n                          <div className=\"formula-step\">\n                            <span className=\"step-label\">Step 1:</span>\n                            <span className=\"step-content\">Calculate cosine similarity between movie embedding and each user's taste vector</span>\n                          </div>\n                          <div className=\"formula-values\">\n                            <span>{user1Name}: {(user1Sim * 100).toFixed(0)}%</span>\n                            <span>{user2Name}: {(user2Sim * 100).toFixed(0)}%</span>\n                          </div>\n                          \n                          <div className=\"formula-step\">\n                            <span className=\"step-label\">Step 2:</span>\n                            <span className=\"step-content\">Apply same dual-user formula:</span>\n                          </div>\n                          <div className=\"formula-equation\">\n                            Combined = 70% × min({(user1Sim * 100).toFixed(0)}%, {(user2Sim * 100).toFixed(0)}%) + 30% × avg({(user1Sim * 100).toFixed(0)}%, {(user2Sim * 100).toFixed(0)}%)\n                          </div>\n                          <div className=\"formula-calculation\">\n                            = 70% × {(minSim * 100).toFixed(0)}% + 30% × {(avgSim * 100).toFixed(0)}%\n                            = <strong>{(detailed_breakdown.semantic_similarity.combined_similarity * 100).toFixed(0)}%</strong>\n                          </div>\n                          \n                          <div className=\"formula-explanation\">\n                            <strong>What's this?</strong> This measures how similar the movie's \"semantic fingerprint\" is to what you both typically enjoy, going beyond just genres.\n                          </div>\n                        </>\n                      );\n                    })()}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Confidence Level */}\n        <div className=\"confidence-section\">\n          <h4>📊 Algorithm Confidence</h4>\n          <div className={`confidence-card confidence-${detailed_breakdown.confidence_factors.overall_confidence}`}>\n            <span className=\"confidence-level\">{detailed_breakdown.confidence_factors.overall_confidence} confidence</span>\n            <p>{detailed_breakdown.confidence_factors.confidence_explanation}</p>\n          </div>\n        </div>\n\n        {/* Detailed Breakdown Toggle */}\n        <div className=\"detailed-toggle\">\n          <button \n            className=\"toggle-detailed-btn\"\n            onClick={() => setShowDetailed(!showDetailed)}\n          >\n            {showDetailed ? '📊 Hide Technical Details' : '🔍 Show Technical Details'}\n          </button>\n        </div>\n\n        {/* Technical Details */}\n        {showDetailed && (\n          <div className=\"technical-details\">\n            <h4>🔧 Technical Breakdown</h4>\n            \n            <div className=\"tech-section\">\n              <h5>Algorithm Stage: {explanation.session_stage}</h5>\n              <p><strong>Focus:</strong> {detailed_breakdown.algorithm_stage.focus}</p>\n              <p><strong>Total Interactions:</strong> {explanation.user_context.user1_interactions + explanation.user_context.user2_interactions}</p>\n            </div>\n\n            {/* Overall Score Calculation */}\n            <div className=\"tech-section\">\n              <h5>🎯 Overall Recommendation Score</h5>\n              <div className=\"overall-score-breakdown\">\n                {(() => {\n                  const weights = detailed_breakdown.algorithm_stage.weights;\n                  const genreScore = detailed_breakdown.genre_compatibility.combined_score;\n                  const semanticScore = detailed_breakdown.semantic_similarity.combined_similarity;\n                  const overallScore = (weights.genre * genreScore) + (weights.embedding * semanticScore);\n                  \n                  return (\n                    <>\n                      <div className=\"score-components\">\n                        <div className=\"score-component\">\n                          <span className=\"component-label\">🎭 Genre Match</span>\n                          <div className=\"component-calculation\">\n                            {(weights.genre * 100).toFixed(0)}% × {(genreScore * 100).toFixed(0)}% = <strong>{(weights.genre * genreScore * 100).toFixed(1)}%</strong>\n                          </div>\n                        </div>\n                        \n                        <div className=\"score-component\">\n                          <span className=\"component-label\">🧠 Semantic Similarity</span>\n                          <div className=\"component-calculation\">\n                            {(weights.embedding * 100).toFixed(0)}% × {(semanticScore * 100).toFixed(0)}% = <strong>{(weights.embedding * semanticScore * 100).toFixed(1)}%</strong>\n                          </div>\n                        </div>\n                        \n                        <div className=\"score-component\">\n                          <span className=\"component-label\">🎲 Diversity Factor</span>\n                          <div className=\"component-calculation\">\n                            {(weights.diversity * 100).toFixed(0)}% × Random = <strong>{(weights.diversity * 100).toFixed(1)}%</strong>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"final-score-calculation\">\n                        <div className=\"final-formula\">\n                          <strong>Final Score = {(weights.genre * genreScore * 100).toFixed(1)}% + {(weights.embedding * semanticScore * 100).toFixed(1)}% + {(weights.diversity * 100).toFixed(1)}% = {(overallScore * 100).toFixed(1)}%</strong>\n                        </div>\n                        <div className=\"stage-explanation\">\n                          <strong>Stage Weights ({explanation.session_stage}):</strong> Genre {(weights.genre * 100).toFixed(0)}% | Semantic {(weights.embedding * 100).toFixed(0)}% | Diversity {(weights.diversity * 100).toFixed(0)}%\n                        </div>\n                      </div>\n                      \n                      <div className=\"score-visualization\">\n                        <div className=\"score-bar-container\">\n                          <div className=\"score-bar-label\">Overall Compatibility</div>\n                          <div className=\"score-bar-full\">\n                            <div \n                              className=\"score-bar-fill overall-score\" \n                              style={{ width: `${overallScore * 100}%` }}\n                            ></div>\n                          </div>\n                          <div className=\"score-bar-value\">{(overallScore * 100).toFixed(1)}%</div>\n                        </div>\n                      </div>\n                    </>\n                  );\n                })()}\n              </div>\n            </div>\n\n            <div className=\"tech-section\">\n              <h5>User Confidence Scores</h5>\n              <div className=\"user-confidence\">\n                <div className=\"confidence-bar\">\n                  <span>{user1Name}: {(explanation.user_context.user1_confidence * 100).toFixed(0)}%</span>\n                  <div className=\"confidence-progress\">\n                    <div \n                      className=\"confidence-fill\" \n                      style={{ width: `${explanation.user_context.user1_confidence * 100}%` }}\n                    ></div>\n                  </div>\n                </div>\n                <div className=\"confidence-bar\">\n                  <span>{user2Name}: {(explanation.user_context.user2_confidence * 100).toFixed(0)}%</span>\n                  <div className=\"confidence-progress\">\n                    <div \n                      className=\"confidence-fill\" \n                      style={{ width: `${explanation.user_context.user2_confidence * 100}%` }}\n                    ></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RecommendationExplanation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}